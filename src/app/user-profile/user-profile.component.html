<div class="px-2 py-4">
  <div class="d-flex flex-row justify-content-center align-items-start gap-5" *ngIf="user">
    <div class="d-flex flex-column w-50 mr-4" *ngIf="user !== undefined">
      <div *ngFor="let post of user.posts">
        <post-core
          [post]="post"
          [currentUserId]="user.id"
          [userName]="getUserName()"
        ></post-core>
      </div>
    </div>

    <div class="w-25">
      <user-data
        #userData
        [user]="user"
        (followed)="followUser($event)"
      ></user-data>

      <button class="btn btn-success mt-2" *ngIf="isCurrentUser && !showForm" (click)="showForm = true">Edit my data</button>

      <div class="form mt-2" *ngIf="showForm && form">
        <form [formGroup]="form">
          <div class="group">
            <label for="fullName">Full name</label>
            <input id="fullName" type="text" class="form-control" formControlName="fullName" placeholder="Enter full name">
          </div>

          <div class="group">
            <label for="nickname">Nickname</label>
            <input id="nickname" type="text" class="form-control" formControlName="nickname" placeholder="Enter nickname">
          </div>

          <div class="group">
            <label for="email">Email</label>
            <input id="email" type="text" class="form-control" formControlName="email" placeholder="Enter email">
          </div>

          <div class="group">
            <label for="phoneNumber">Phone number</label>
            <input id="phoneNumber" type="text" class="form-control" formControlName="phoneNumber" placeholder="Enter phone number">
          </div>

          <div class="group">
            <label for="password">Password</label>
            <input id="password" type="password" class="form-control" formControlName="password" placeholder="Enter new password">
          </div>
        </form>

        <div class="mt-2 w-100 d-flex flex-row justify-content-between gap-1">
          <button class="btn btn-success w-50" (click)="updateUserData()">Save</button>
          <button class="btn btn-danger w-50" (click)="showForm = false">Cancel</button>
        </div>
      </div>
    </div>
  </div>
</div>
